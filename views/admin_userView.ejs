<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <!-- jQuery -->
  <script src="../javascripts/jquery-2.0.0.min.js" type="text/javascript"></script>

  <!-- Bootstrap4 files-->
    <script src="../javascripts/bootstrap.bundle.min.js" type="text/javascript"></script>  
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"> -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> 
   <link href="../stylesheets/bootstrap.css" rel="stylesheet" type="text/css" />
   <link href="../stylesheets/bootstrap3661.css" rel="stylesheet" type="text/css" />

  <!-- Font awesome 5 -->
  <!-- <link href="../fonts/fontawesome/css/all.min3661.css" type="text/css" rel="stylesheet"> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
  <!--              F i l e p o n d              -->
  <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
  <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
  <script defer src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.js"></script>
  <script defer src="https://unpkg.com/filepond/dist/filepond.js"></script>
  <script defer src="/javascripts/fileUpload.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <script src="textyle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

</head>

    <style>
     html,body{
         width: 100%;
         height: 100%;
         margin: 0;
         
     }
        body {
             background-size: cover;
             font-family: 'Roboto', sans-serif;
             /* background-color: rgb(248, 248, 248); */
             background-size: cover;
            background-position: center;
            background-repeat: round;
            background-image: url("../images/background-dashboard.png");
     }

     ::-webkit-scrollbar {
          width: 10px;
     }     
     ::-webkit-scrollbar-track {
          background: #f1f1f1;
     }
    /* Handle */
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }
    
    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
     /* -------------------------------------- */
     
     .social-card-header{
         position: relative;
         display: -ms-flexbox;
         display: flex;
         -ms-flex-align: center;
         align-items: center;
         -ms-flex-pack: center;
         justify-content: center;
         height: 96px;
     }
     .social-card-header i {
         font-size: 32px;
         color:#FFF;
     }
     .bg-facebook {
         background-color:#3b5998;
     }
     .text-facebook {
         color:#3b5998;
     }
     .bg-google-plus{
         background-color:#dd4b39;
     }
     .text-google-plus {
         color:#dd4b39;
     }
     .bg-twitter {
         background-color:#1da1f2;
     }
     .text-twitter {
         color:#1da1f2;
     }
     .bg-pinterest {
         background-color:#bd081c;
     }
     .text-pinterest {
         color:#bd081c;
     }
     .share:hover {
             text-decoration: none;
         opacity: 0.8;
     }
    
        /* ---- particles.js container ---- */ 

          nav{
              height: 66px;
              opacity: 0;
              transition: all ease-in 0.9s ;
              background-color: #1C72B8;
          }
          section{
            opacity: 0;
            transition: all ease-in 0.9s ;
          }
          a{
            color: rgb(235, 235, 235) !important;
          }
          a:active{
            color: coral !important;
          }
          .jc_center{
              justify-content: center;
          }
          .p1{
              padding: 15px 15px;
          }
          .navTogicon{
            display: inline-block;
            width: 1.5em;
            height: 1.5em;
            vertical-align: middle;
           
          }
          button:focus{
                  outline: none;
              }
          @media(max-width: 500px){
              .p1{
              padding: 15px 10px;
              }
              .res_icon{
                font-size: 10px;
              }
              .navTogicon{
            height: 1em ;
          }
            
          }
          @media(max-width: 992px){
              .pl15{
                  padding-left: 15px;
              }
              .nav_tog{
                  border-color: rgba(0,0,0,0) !important;
              }
          }
          @media(min-width: 992px){
              .lg_icon{
                position: absolute;
                right: 2px;
                top: 1px;
              }
          }
          .mr_res{
              margin-right: 20%;
          }
          @media(max-width: 480px){
            .textMt{
            margin-top: 60%;
          }
          p{
            font-size: 2.5rem;
          }
          }
          .navLink{
            border-bottom: 5px solid transparent;
            border-top: 5px solid transparent;
            padding: 16px 15px !important;
            width: max-content;
            transition: all ease 0.4s;
          }
          .navLink:hover{
            border-bottom: 4px solid coral;
          }
          table{
              /* border: 2px solid #1C72B8;; */
              padding: 0 !important;
              
          }
          thead{
              background-color: transparent;
              /* border: 2px solid #1C72B8; */
              color: #1C72B8;
          }
          table thead th {
            vertical-align: inherit;
            border-bottom: none;
        }
        table th{
            padding: 15px;
            white-space: nowrap
        }
        table td{
            font-size: 16px;
            color: #7c7d7d;
            /* line-height: 32px; */
            padding: 5px;
        }
        .colorBtn{
            border-radius: 10px;
             color: #fff;
             background-color: #1C72B8;;
             border:3px solid white;
             transition: all ease-in 0.2s;
        }
        .colorBtn:hover{
            color: #1C72B8 !important;
             background-color: white;
             border:3px solid #1C72B8;
             
        }
        .wNowrap{
            white-space: nowrap;
        }

     


    html,body{
        width: 100%;
        height: 100%;
        margin: 0;
        
    }
       body {
            background-size: cover;
            font-family: 'Roboto', sans-serif;
            /* background-color: rgb(248, 248, 248); */
            background-size: cover;
           background-position: center;
           background-repeat: round;
           background-image: url('./background--body-dashboard.png');
    }

    ::-webkit-scrollbar {
         width: 10px;
    }     
    ::-webkit-scrollbar-track {
         background: #f1f1f1;
    }
   /* Handle */
   ::-webkit-scrollbar-thumb {
     background: #888;
     border-radius: 10px;
   }
   
   /* Handle on hover */
   ::-webkit-scrollbar-thumb:hover {
     background: #555;
   }
    /* -------------------------------------- */
    
    .social-card-header{
        position: relative;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-align: center;
        align-items: center;
        -ms-flex-pack: center;
        justify-content: center;
        height: 96px;
    }
    .social-card-header i {
        font-size: 32px;
        color:#FFF;
    }
    .bg-facebook {
        background-color:#3b5998;
    }
    .text-facebook {
        color:#3b5998;
    }
    .bg-google-plus{
        background-color:#dd4b39;
    }
    .text-google-plus {
        color:#dd4b39;
    }
    .bg-twitter {
        background-color:#1da1f2;
    }
    .text-twitter {
        color:#1da1f2;
    }
    .bg-pinterest {
        background-color:#bd081c;
    }
    .text-pinterest {
        color:#bd081c;
    }
    .share:hover {
            text-decoration: none;
        opacity: 0.8;
    }
   
       /* ---- particles.js container ---- */ 

         nav{
             height: 66px;
             opacity: 0;
             transition: all ease-in 0.9s ;
             background-image: linear-gradient(to bottom right,#0f1012,#181b90)!important;
         }
         section{
           opacity: 0;
           transition: all ease-in 0.9s ;
         }
         a{
           color: rgb(235, 235, 235) !important;
         }
         a:active{
           color: coral !important;
         }
         .jc_center{
             justify-content: center;
         }
         .p1{
             padding: 15px 15px;
         }
         .navTogicon{
           display: inline-block;
           width: 1.5em;
           height: 1.5em;
           vertical-align: middle;
          
         }
         button:focus{
                 outline: none;
             }
         @media(max-width: 500px){
             .p1{
             padding: 15px 10px;
             }
             .res_icon{
               font-size: 10px;
             }
             .navTogicon{
           height: 1em ;
         }
           
         }
         @media(max-width: 992px){
             .pl15{
                 padding-left: 15px;
             }
             .nav_tog{
                 border-color: rgba(0,0,0,0) !important;
             }
         }
         @media(min-width: 992px){
             .lg_icon{
               position: absolute;
               right: 2px;
               top: 1px;
             }
         }
         .mr_res{
             margin-right: 20%;
         }
         @media(max-width: 480px){
           .textMt{
           margin-top: 60%;
         }
         p{
           font-size: 2.5rem;
         }
         }
         .navLink{
           border-bottom: 5px solid transparent;
           border-top: 5px solid transparent;
           padding: 16px 15px !important;
           width: max-content;
           transition: all ease 0.4s;
         }
         .navLink:hover{
           border-bottom: 4px solid coral;
         }
         table{
             /* border: 2px solid #1C72B8;; */
             padding: 0 !important;
             
         }
         thead{
             background-color: transparent;
             /* border: 2px solid #1C72B8; */
             color: rgb(11, 11, 112);
         }
         table thead th {
           vertical-align: inherit;
           border-bottom: none;
       }
       table th{
           padding: 15px;
           white-space: nowrap
       }
       table td{
           font-size: 16px;
           color: #7c7d7d;
           /* line-height: 32px; */
           padding: 5px;
       }
       .colorBtn{
           border-radius: 10px;
            color: #fff;
            background-color: rgb(11, 11, 112);
            border:3px solid white;
            transition: all ease-in 0.2s;
       }
       .colorBtn:hover{
           color: rgb(11, 11, 112) !important;
            background-color: white;
            border:3px solid rgb(11, 11, 112);
            
       }
       .wNowrap{
           white-space: nowrap;
       }



/*  Field */
.signup__field {
display: flex;
flex-direction: column;
width: 100%;
position: relative;
margin-bottom: 35px;
}

.signup__field:before {
content: "";
display: inline-block;
position: absolute;
width: 0px;
height: 2px;
background: rgb(11, 11, 112);
bottom: 0;
left: 50%;
transform: translateX(-50%);
transition: all 0.4s ease;
}

.signup__field:hover:before {
width: 100%;
}

.filepond--drop-label.filepond--drop-label label{
   font-size: small;
}
</style>


<body onload="loadWindow()">
    <div class="dashboard-bg" >
        <!-- for navbar -->
        <div style="height: 66px">
          <nav class="navbar navbar-expand-lg navbar-light" id="nav" style="padding: 0 !important;">
            <button class="navbar-toggler nav_tog" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
              <b class="navTogicon">
                <i class="fas fa-bars" style="color:#fff; font-size:20px;"></i>
              </b>
            </button>
            <a class="navbar-brand navColor p1 mr-0 logo" style="font-weight: bold;" href="#">Student Portal</a>
            <div class="p1 res_icon lg_icon"><a href="#" class="text-center">
                <div style="font-size: 22px;line-height: 1;"><i class="fas fa-user-plus"></i></div>
                <small> Register/login </small>
            </a></div>
            <div class="collapse navbar-collapse jc_center pl15" id="navbarNavAltMarkup">
              <div class="navbar-nav mr_res">
                <a class="nav-item nav-link active navColor navLink" href="#">Home </a>
                <a class="nav-item nav-link navColor navLink" href="#">Dashboard</a>
                <a class="nav-item nav-link navColor navLink" href="#">Profile</a>
              </div>
            </div>
          </nav>
        </div>
        <section id="sectionShow" style="width: 100%;margin-top: 50px;"> 
            <%- include('../views/partials/messages.ejs')%>
<h2 style="padding-left: 5%;">All tasks of <strong><%= userName %> </strong> </h2>            
            <!-- <% if(typeof data != 'undefined') { %> -->
                <table class="table-responsive-xl col-11 mx-auto table-hover">
                    <thead>
                        <tr style="text-align: center;">
                            <th >#</th>
                            <th >Task name</th>
                            <th >File</th>
                            <th >Progress</th>
                            <th>Status</th>
                            <th>Marks</th>
                            <th >Date Time</th>
                            <th >Update status</th>
                            <th >View</th>
                            <th >Download</th>
                        </tr>
                    </thead>
                <!-- <% if(data) { %> -->
                    <tbody id="table_tr">
                        <!-- <% data.forEach(function(data, index){ %>  -->
                            <tr style="text-align: center;">
                                <td style="max-width: 20px;">  <%= index  %></td>
                                <td style="max-width: 50px;">  <%= data.taskName  %></td>
                                <td> 
                                    <center>
                                        <iframe id="ifram" loading="lazy"  src="<%= data.cover1ImagePath %>" frameborder="0" width="200px" height="150px"></iframe>
                                    </center>
                                </td>
                                <td>  <%= data.isCompleted  %></td>
                                
                                <form action="/admin/view-task/update-status/<%= data._id %>/<%= userId %>/<%= userName %>" method="post">
                                    <% if(data.isCompleted == 'In progress') { %>
                                        <td>
                                            <!-- <select name="status" disabled > 
                                                <option value="" selected disabled> << <%= data.status %> >> </option>
                                                <option value="checked">Checked</option>
                                                <option value="not checked">Not checked</option>
                                            </select>  -->
                                            <input type="text" readonly name="url" value="<%= data.status %>" id="url" disabled style="background-color: transparent; border: none; text-align: center;" >
                                        </td>
                                        <td>  Not checked yet</td>
                                        <td>  <%= data.date_time  %></td>
                                        <td>  <small style="color: red; font-weight: 500;"> Task not completed yet.</small>  </td>
                                        <% } else { %>
                                            <td>
                                                <select name="status"> 
                                                    <option value="<%= typeof data.status == 'undefined' ? 'not checked' : data.status %>" selected>  <%= data.status %>  </option>
                                                    <% if (data.status == 'not checked') { %>
                                                        <option value="checked">Checked</option>
                                                    <% } else { %>
                                                        <option value="not checked">Not checked</option>
                                                    <% } %>
                                            </select> 
                                            <input type="text" name="url" value="" id="url" hidden>
                                        </td>
                                        <td> <input type="text" name="marks" value="<%= typeof data.marks == 'undefined' ? 'no mraks yet' : data.marks %>" style=" max-width: 120px; height: 20px; text-align: center;"></td> 
                                        <td>  <%= data.date_time  %></td>
                                        <td> <button type="submit" class="btn colorBtn wNowrap mx-0"> <i class="fa fa-retweet" aria-hidden="true"></i>  </button> </td>
                                        <% } %>
                                    </form> 
                                    
                                <td>  <a href="/view-file/<%= data._id %>" class="btn colorBtn wNowrap mx-0" target="_blank">View file</a> </td>
                                <td>  <a href="<%= data.cover1ImagePath %>" download="<%= data.taskName  %>" class="btn colorBtn wNowrap" target="_blank">Download file</a> </td>
                            </tr>
                        <!-- <% }) %>                  E n d    o f    f o r E a ch    l o o p   -->
                        </tbody>
                </table>
                
                <!--<% } else { %>  -->                  <!--  e l s e    o f    d a t a    i f   -->
                    <h4> You haven't upload anything yet!!! </h4>
               <!-- <% } %>     -->                    <!--  E n d    o f    d a t a      i f  -->
            <!--<% } else { %>  -->                    <!--  e l s e    o f    f o r E a ch    l o o p   -->
                <h4> <%= msg %> </h4>
            <!-- <% } %>  -->                            <!--  E n d    o f    t y p e o f     i f   -->
            </section>

    </div>

</body>

<style>
    .filepond--drop-label.filepond--drop-label label{
        font-size: small;
    }
</style>
<script>
    // document.getElementById('Upload').addEventListener('click', function(){
    //     document.getElementById('uploadForm').style.display= 'none'
    // })
    // document.getElementById('Hide').addEventListener('click', function(){
    //     document.getElementById('uploadForm').style.display= 'block'
    // })

    function loadWindow(){
    document.getElementById("Hide").addEventListener("click", function(){
        document.getElementById('uploadForm').style.display= 'none';
        document.getElementById('uploadForm').style.opacity= '0'
        document.getElementById("Hide").style.display= 'none';
        document.getElementById("Upload").style.display= 'inline-block';
    });

    
    document.getElementById('Upload').addEventListener('click', function(){
        document.getElementById('uploadForm').style.display= 'block'
        setTimeout(function(){document.getElementById('uploadForm').style.opacity= '1'}, 100);
        document.getElementById("Upload").style.display= 'none'
        document.getElementById("Hide").style.display= 'inline-block'
    })

    
}


var iframe = document.getElementById('iframe');
var style = document.createElement('style');
style.textContent =
  'body {' +
  '  border: red 1ps solid;' +
  '  background-image: some-image;' +
  '}' 
;
iframe.contentDocument.head.appendChild(style);
</script>

<!-- for backgound and navbar -->
<script>
  function showNav(){
    document.getElementById('nav').style.opacity="1";
  }
  function tableSection(){
    document.getElementById('sectionShow').style.opacity="1";
  }
  $(document).ready(function () {
  showNav();
  tableSection();
});
</script>

</html>